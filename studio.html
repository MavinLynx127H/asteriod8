<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: black;
      text-align: center;
      color: white;
    }

    .forma {
      text-align: center;
    }

    form {
      text-align: center;
    }

    input[type=text] {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid white;
      border-radius: 4px;
      box-sizing: border-box;
    }

    input[type=file] {
      width: 100%;
      background-color: coral;
      color: black;
      padding: 14px 20px;
      margin: 8px 0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    input[type=radio] {
      background-color: coral;
    }

    button {
      background-color: coral;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="forma">
    <form id="uploadForm">
      <input type="file" id="video" name="video" accept="video/mp4" required>
      <br>
      <input type="text" id="title" name="title" placeholder="Enter your Song Title" required>
      <br>
      <input type="radio" id="Public" name="visibility" value="Public" required>
      <label for="Public">Public</label>
      <br>
      <input type="radio" id="Private" name="visibility" value="Private" required>
      <label for="Private">Private</label>
      <br><br>
      <button type="button" onclick="upload()">Upload</button>
      <br>
    </form>
  </div>

  <script>
    function upload() {
      const videoInput = document.getElementById('video');
      const titleInput = document.getElementById('title').value;
      const isPublic = document.getElementById('Public').checked;

      if (videoInput.files.length > 0) {
        const file = videoInput.files[0];
        const reader = new FileReader();

        reader.onload = function(e) {
          const videoSrc = e.target.result;

          // Get existing videos from localStorage
          const videos = JSON.parse(localStorage.getItem('videos')) || [];

          // Add new video to the array
          videos.push({ title: titleInput, src: videoSrc, public: isPublic });

          // Save updated video array back to localStorage
          localStorage.setItem('videos', JSON.stringify(videos));

          // Alert user of successful upload
          alert("Song uploaded successfully!");

          // Clear form inputs
          document.getElementById('uploadForm').reset();
        };

        // Read video file as a data URL
        reader.readAsDataURL(file);
      } else {
        alert("Please select a video file to upload.");
      }
    }
  </script>
</body>
</html>

